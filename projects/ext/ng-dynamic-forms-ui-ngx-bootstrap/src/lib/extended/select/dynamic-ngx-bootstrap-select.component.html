<ng-container [formGroup]="group">
  <select
    *ngIf="$any(model.additional)?.use_ng_select !== true"
    class="form-control"
    [class.is-invalid]="showErrorMessages"
    [compareWith]="model.compareWithFn"
    [formControlName]="model.id"
    [id]="id"
    [name]="model.name"
    [ngClass]="getClass('element', 'control')"
    [required]="model.required"
    [tabindex]="model.tabIndex"
    (blur)="onBlur($event)"
    (change)="onChange($event)"
    (focus)="onFocus($event)"
  >
    <option
      *ngFor="let option of model.options$ | async"
      [disabled]="option.disabled"
      [ngValue]="option.value"
    >
      {{ option.label }}
    </option>
  </select>

  <ng-select
    *ngIf="$any(model.additional)?.use_ng_select === true"
    bindValue="value"
    bindLabel="label"
    [clearable]="$any(model.additional)?.use_ng_select__clearable === true"
    [multiple]="$any(model.additional)?.use_ng_select__multiple === true"
    class="form-control ng-dynamic-forms-ngx-bootstrap-select-ng-select"
    [class.is-invalid]="showErrorMessages"
    [compareWith]="model.compareWithFn"
    [formControlName]="model.id"
    [id]="id"
    [ngClass]="getClass('element', 'control')"
    [required]="model.required"
    [tabindex]="model.tabIndex"
    (blur)="onBlur($event)"
    (change)="onChange($event)"
    (focus)="onFocus($event)"
  >
    <ng-option
      *ngFor="let option of model.options$ | async"
      [disabled]="option.disabled"
      [value]="option.value"
    >
      {{ option.label }}
    </ng-option>
  </ng-select>
</ng-container>
